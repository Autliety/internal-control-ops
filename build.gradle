group 'com.hcit'
version '0.1.3'

task cleanup(type: Delete) {
  dependsOn(':taserver:clean', ':taweb:clean')
  delete 'bundle/'
  delete 'taserver/src/main/resources/public'
}

task copyWeb(type: Copy) {
  dependsOn(':taweb:npm_run_build')
  from 'taweb/build'
  into 'taserver/src/main/resources/public'
}

tasks.getByPath(':taserver:assemble').dependsOn(copyWeb)

task bundle(type: Copy) {
  dependsOn(':taserver:assemble')
  from 'taserver/build/libs'
  into 'bundle/'
}
